import{c as x,r as l,u as w,a as N,b as S,j as e,S as E,L as f,I as C,V as L}from"./index-CZ0aMDF1.js";import{M}from"./mail-DKPz4xSt.js";import{E as I}from"./eye-CfzNov6g.js";/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A=x("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _=x("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D=x("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]),q=()=>{const[s,i]=l.useState({email:"",password:""}),[d,k]=l.useState(!1),[u,g]=l.useState(!1),{login:h,isAuthenticated:b,loading:p}=w(),c=N(),m=S();l.useEffect(()=>{var r,t;if(b){const a=((t=(r=m.state)==null?void 0:r.from)==null?void 0:t.pathname)||"/dashboard";c(a,{replace:!0})}},[b,c,m]),l.useEffect(()=>{const r=localStorage.getItem("rememberedEmail");r&&(i(t=>({...t,email:r})),g(!0))},[]);const y=r=>{const{name:t,value:a}=r.target;i(n=>({...n,[t]:a}))},j=async r=>{var t,a;if(r.preventDefault(),!s.email||!s.password){L.error("Please fill in all fields");return}try{if((await h(s)).success){u?localStorage.setItem("rememberedEmail",s.email):localStorage.removeItem("rememberedEmail");const v=((a=(t=m.state)==null?void 0:t.from)==null?void 0:a.pathname)||"/dashboard";c(v,{replace:!0})}}catch(n){console.error("Login error:",n)}},o=async r=>{const a={super_admin:{email:"admin@supermarket.com",password:"admin123"},store_admin:{email:"store@supermarket.com",password:"store123"},billing_staff:{email:"billing@supermarket.com",password:"billing123"},inventory_staff:{email:"inventory@supermarket.com",password:"inventory123"}}[r];a&&(i(a),setTimeout(()=>{h(a)},500))};return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 dark:from-gray-900 dark:to-blue-900 flex items-center justify-center p-4",children:e.jsxs("div",{className:"max-w-md w-full",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-blue-600 rounded-2xl mb-4",children:e.jsx(E,{className:"w-8 h-8 text-white"})}),e.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"SuperMarket POS"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-2",children:"Sign in to your account"})]}),e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-xl p-8",children:[e.jsxs("form",{onSubmit:j,className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Email Address"}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx(M,{className:"h-5 w-5 text-gray-400"})}),e.jsx("input",{type:"email",name:"email",value:s.email,onChange:y,className:"block w-full pl-10 pr-3 py-3 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:text-white placeholder-gray-500 dark:placeholder-gray-400",placeholder:"Enter your email",required:!0,autoComplete:"email"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Password"}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx(_,{className:"h-5 w-5 text-gray-400"})}),e.jsx("input",{type:d?"text":"password",name:"password",value:s.password,onChange:y,className:"block w-full pl-10 pr-12 py-3 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:text-white placeholder-gray-500 dark:placeholder-gray-400",placeholder:"Enter your password",required:!0,autoComplete:"current-password"}),e.jsx("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center",onClick:()=>k(!d),children:d?e.jsx(A,{className:"h-5 w-5 text-gray-400 hover:text-gray-600"}):e.jsx(I,{className:"h-5 w-5 text-gray-400 hover:text-gray-600"})})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{id:"remember-me",type:"checkbox",checked:u,onChange:r=>g(r.target.checked),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),e.jsx("label",{htmlFor:"remember-me",className:"ml-2 block text-sm text-gray-700 dark:text-gray-300",children:"Remember me"})]}),e.jsx(f,{to:"/forgot-password",className:"text-sm text-blue-600 dark:text-blue-400 hover:text-blue-800 dark:hover:text-blue-300",children:"Forgot password?"})]}),e.jsx("button",{type:"submit",disabled:p,className:"w-full bg-blue-600 text-white py-3 px-4 rounded-lg hover:bg-blue-700 focus:ring-4 focus:ring-blue-500 focus:ring-opacity-50 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center justify-center font-medium",children:p?e.jsxs(e.Fragment,{children:[e.jsx(C,{size:"small",color:"white"}),e.jsx("span",{className:"ml-2",children:"Signing in..."})]}):e.jsxs(e.Fragment,{children:[e.jsx(D,{className:"w-4 h-4 mr-2"}),"Sign In"]})})]}),e.jsxs("div",{className:"mt-8 pt-6 border-t border-gray-200 dark:border-gray-700",children:[e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 text-center mb-4",children:"Demo Accounts"}),e.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[e.jsx("button",{onClick:()=>o("super_admin"),className:"text-xs bg-purple-100 dark:bg-purple-900/20 text-purple-700 dark:text-purple-300 px-3 py-2 rounded-lg hover:bg-purple-200 dark:hover:bg-purple-900/40 transition-colors",children:"Super Admin"}),e.jsx("button",{onClick:()=>o("store_admin"),className:"text-xs bg-blue-100 dark:bg-blue-900/20 text-blue-700 dark:text-blue-300 px-3 py-2 rounded-lg hover:bg-blue-200 dark:hover:bg-blue-900/40 transition-colors",children:"Store Admin"}),e.jsx("button",{onClick:()=>o("billing_staff"),className:"text-xs bg-green-100 dark:bg-green-900/20 text-green-700 dark:text-green-300 px-3 py-2 rounded-lg hover:bg-green-200 dark:hover:bg-green-900/40 transition-colors",children:"Billing Staff"}),e.jsx("button",{onClick:()=>o("inventory_staff"),className:"text-xs bg-orange-100 dark:bg-orange-900/20 text-orange-700 dark:text-orange-300 px-3 py-2 rounded-lg hover:bg-orange-200 dark:hover:bg-orange-900/40 transition-colors",children:"Inventory Staff"})]})]}),e.jsx("div",{className:"mt-6 text-center",children:e.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Don't have an account?"," ",e.jsx(f,{to:"/signup",className:"text-blue-600 dark:text-blue-400 hover:text-blue-800 dark:hover:text-blue-300 font-medium",children:"Sign up here"})]})})]}),e.jsx("div",{className:"text-center mt-8",children:e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Â© 2024 SuperMarket POS. All rights reserved."})})]})})};export{q as default};
