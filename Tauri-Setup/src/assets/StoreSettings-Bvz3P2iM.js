import{u as k,r as d,j as e,S as y,X as v,i as h,e as w,V as p}from"./index-CZ0aMDF1.js";import{S}from"./save-DptzIlh8.js";import{S as C}from"./square-pen-BUDrwwgU.js";import{P as I,M as H}from"./phone-CLh07v50.js";import{C as A}from"./clock-Drj3gQ-V.js";import{D as P}from"./dollar-sign-BszbyJVU.js";const G=()=>{const{user:R,store:a}=k(),[m,g]=d.useState(!1),[r,c]=d.useState(!1),[t,l]=d.useState({storeName:"",storeId:"",description:"",address:"",city:"",state:"",pincode:"",country:"Pakistan",phone:"",email:"",website:"",logo:"",currency:"PKR",timezone:"Asia/Karachi",gstNumber:"",businessHours:{monday:{open:"09:00",close:"21:00",closed:!1},tuesday:{open:"09:00",close:"21:00",closed:!1},wednesday:{open:"09:00",close:"21:00",closed:!1},thursday:{open:"09:00",close:"21:00",closed:!1},friday:{open:"09:00",close:"21:00",closed:!1},saturday:{open:"09:00",close:"21:00",closed:!1},sunday:{open:"10:00",close:"20:00",closed:!1}},taxSettings:{gstNumber:"",gstRate:18,taxInclusive:!0},paymentSettings:{acceptCash:!0,acceptCard:!0,acceptUPI:!0,acceptWallet:!1}});d.useEffect(()=>{var s,n;a&&l({storeName:a.storeName||"",storeId:a.storeId||"",description:a.description||"",address:a.address||"",city:a.city||"",state:a.state||"",pincode:a.pincode||"",country:a.country||"Pakistan",phone:((s=a.contact)==null?void 0:s.phone)||"",email:((n=a.contact)==null?void 0:n.email)||"",website:a.website||"",logo:a.logo||"",currency:a.currency||"INR",timezone:a.timezone||"Asia/Kolkata",businessHours:a.businessHours||t.businessHours,taxSettings:a.taxSettings||t.taxSettings,paymentSettings:a.paymentSettings||t.paymentSettings})},[a]);const f=async()=>{try{g(!0),(await w.put("/admin/store-settings",t)).data.success&&(p.success("Store settings updated successfully"),c(!1))}catch(s){console.error("Failed to update store settings:",s),p.error("Failed to update store settings")}finally{g(!1)}},j=()=>{var s,n;a&&l({storeName:a.storeName||"",storeId:a.storeId||"",description:a.description||"",address:a.address||"",city:a.city||"",state:a.state||"",pincode:a.pincode||"",country:a.country||"India",phone:((s=a.contact)==null?void 0:s.phone)||"",email:((n=a.contact)==null?void 0:n.email)||"",website:a.website||"",logo:a.logo||"",currency:a.currency||"INR",timezone:a.timezone||"Asia/Kolkata",businessHours:a.businessHours||t.businessHours,taxSettings:a.taxSettings||t.taxSettings,paymentSettings:a.paymentSettings||t.paymentSettings}),c(!1)},u=(s,n,i)=>{l({...t,businessHours:{...t.businessHours,[s]:{...t.businessHours[s],[n]:i}}})},N=[{key:"monday",label:"Monday"},{key:"tuesday",label:"Tuesday"},{key:"wednesday",label:"Wednesday"},{key:"thursday",label:"Thursday"},{key:"friday",label:"Friday"},{key:"saturday",label:"Saturday"},{key:"sunday",label:"Sunday"}];return e.jsxs("div",{className:"p-6",children:[e.jsx("div",{className:"mb-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white flex items-center",children:[e.jsx(y,{className:"w-8 h-8 mr-3 text-blue-600"}),"Store Settings"]}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-2",children:"Manage your store information and business settings"})]}),e.jsx("div",{className:"flex items-center space-x-3",children:r?e.jsxs(e.Fragment,{children:[e.jsxs("button",{onClick:j,className:"bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-200 px-4 py-2 rounded-lg hover:bg-gray-300 dark:hover:bg-gray-600 flex items-center",children:[e.jsx(v,{className:"w-4 h-4 mr-2"}),"Cancel"]}),e.jsxs("button",{onClick:f,disabled:m,className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 flex items-center disabled:opacity-50",children:[e.jsx(S,{className:"w-4 h-4 mr-2"}),m?"Saving...":"Save Changes"]})]}):e.jsxs("button",{onClick:()=>c(!0),className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 flex items-center",children:[e.jsx(C,{className:"w-4 h-4 mr-2"}),"Edit Settings"]})})]})}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm p-6",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-6 flex items-center",children:[e.jsx(y,{className:"w-5 h-5 mr-2"}),"Store Information"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Store Name *"}),e.jsx("input",{type:"text",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",value:t.storeName,onChange:s=>l({...t,storeName:s.target.value}),disabled:!r})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Store ID"}),e.jsx("input",{type:"text",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",value:t.storeId,onChange:s=>l({...t,storeId:s.target.value}),disabled:!r})]})]}),e.jsxs("div",{className:"mt-6",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Store Description"}),e.jsx("textarea",{className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",rows:3,value:t.description,onChange:s=>l({...t,description:s.target.value}),disabled:!r,placeholder:"Describe your store"})]})]}),e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm p-6",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-6 flex items-center",children:[e.jsx(I,{className:"w-5 h-5 mr-2"}),"Contact Information"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Phone Number"}),e.jsx("input",{type:"tel",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",value:t.phone,onChange:s=>l({...t,phone:s.target.value}),disabled:!r})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Email Address"}),e.jsx("input",{type:"email",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",value:t.email,onChange:s=>l({...t,email:s.target.value}),disabled:!r})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Website"}),e.jsx("input",{type:"url",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",value:t.website,onChange:s=>l({...t,website:s.target.value}),disabled:!r,placeholder:"https://yourstore.com"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"GST Number"}),e.jsx("input",{type:"text",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",value:t.gstNumber,onChange:s=>l({...t,gstNumber:s.target.value}),disabled:!r,placeholder:"GST123456789"})]})]})]}),e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm p-6",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-6 flex items-center",children:[e.jsx(H,{className:"w-5 h-5 mr-2"}),"Address Information"]}),e.jsxs("div",{className:"mt-6",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Address"}),e.jsx("textarea",{className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",rows:3,value:t.address,onChange:s=>l({...t,address:s.target.value}),disabled:!r,placeholder:"Enter your store address"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mt-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"City"}),e.jsx("input",{type:"text",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",value:t.city,onChange:s=>l({...t,city:s.target.value}),disabled:!r})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"State"}),e.jsx("input",{type:"text",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",value:t.state,onChange:s=>l({...t,state:s.target.value}),disabled:!r})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Pincode"}),e.jsx("input",{type:"text",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",value:t.pincode,onChange:s=>l({...t,pincode:s.target.value}),disabled:!r})]})]})]}),e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm p-6",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-6 flex items-center",children:[e.jsx(A,{className:"w-5 h-5 mr-2"}),"Business Hours"]}),e.jsx("div",{className:"space-y-4",children:N.map(s=>{var n,i,x,b;return e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"w-24",children:e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:s.label})}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"checkbox",checked:!((n=t.businessHours[s.key])!=null&&n.closed),onChange:o=>u(s.key,"closed",!o.target.checked),disabled:!r,className:"rounded border-gray-300"}),e.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Open"})]}),!((i=t.businessHours[s.key])!=null&&i.closed)&&e.jsxs(e.Fragment,{children:[e.jsx("input",{type:"time",value:((x=t.businessHours[s.key])==null?void 0:x.open)||"09:00",onChange:o=>u(s.key,"open",o.target.value),disabled:!r,className:"px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"}),e.jsx("span",{className:"text-gray-500",children:"to"}),e.jsx("input",{type:"time",value:((b=t.businessHours[s.key])==null?void 0:b.close)||"21:00",onChange:o=>u(s.key,"close",o.target.value),disabled:!r,className:"px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]},s.key)})})]}),e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm p-6",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-6 flex items-center",children:[e.jsx(P,{className:"w-5 h-5 mr-2"}),"Tax Settings"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"GST Number"}),e.jsx("input",{type:"text",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",value:t.taxSettings.gstNumber,onChange:s=>l({...t,taxSettings:{...t.taxSettings,gstNumber:s.target.value}}),disabled:!r,placeholder:"22AAAAA0000A1Z5"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"GST Rate (%)"}),e.jsx("input",{type:"number",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",value:t.taxSettings.gstRate,onChange:s=>l({...t,taxSettings:{...t.taxSettings,gstRate:parseFloat(s.target.value)}}),disabled:!r,min:"0",max:"100",step:"0.01"})]})]}),e.jsx("div",{className:"mt-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",checked:t.taxSettings.taxInclusive,onChange:s=>l({...t,taxSettings:{...t.taxSettings,taxInclusive:s.target.checked}}),disabled:!r,className:"rounded border-gray-300"}),e.jsx("label",{className:"ml-2 text-sm text-gray-700 dark:text-gray-300",children:"Prices include tax"})]})})]}),e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm p-6",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-6 flex items-center",children:[e.jsx(h,{className:"w-5 h-5 mr-2"}),"Payment Methods"]}),e.jsx("div",{className:"space-y-4",children:Object.entries(t.paymentSettings).map(([s,n])=>e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(h,{className:"w-5 h-5 text-gray-400 mr-3"}),e.jsx("span",{className:"text-sm font-medium text-gray-900 dark:text-white capitalize",children:s.replace("accept","").toLowerCase()})]}),e.jsx("input",{type:"checkbox",checked:n,onChange:i=>l({...t,paymentSettings:{...t.paymentSettings,[s]:i.target.checked}}),disabled:!r,className:"rounded border-gray-300"})]},s))})]})]})]})};export{G as default};
